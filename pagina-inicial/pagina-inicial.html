<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lanchonete Bairro - Autoatendimento</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link href="pagina-inicial.css" rel="stylesheet" />
  </head>
  <body>
    <!-- Header Fixo -->
    <header class="header">
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="col">
            <h1 class="logo">
              <i class="bi bi-cup-hot-fill"></i>
              Lanchonete Bairro
            </h1>
          </div>
          <div class="col-auto">
            <div class="user-info" id="userInfo" style="display: none">
              <span>Olá, <strong id="userName"></strong></span>
              <button
                class="btn btn-outline-dark btn-sm ms-2"
                onclick="logout()"
              >
                <i class="bi bi-box-arrow-right"></i> Sair
              </button>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Tela de Login -->
    <div id="loginScreen" class="login-screen">
      <div class="login-container">
        <div class="login-header">
          <h2><i class="bi bi-cup-hot-fill"></i> Bem-vindo</h2>
          <p>Faça seu pedido de forma rápida e fácil</p>
        </div>

        <div class="login-tabs">
          <button class="tab-btn active" data-tab="login">Entrar</button>
          <button class="tab-btn" data-tab="register">Cadastrar</button>
        </div>

        <!-- Form Login -->
        <div id="loginForm" class="login-form active">
          <form onsubmit="handleLogin(event)">
            <div class="form-group">
              <label>CPF</label>
              <input
                type="text"
                id="loginCpf"
                class="form-control"
                placeholder="000.000.000-00"
                required
              />
            </div>
            <div class="form-group">
              <label>Senha</label>
              <input
                type="password"
                id="loginPassword"
                class="form-control"
                placeholder="Digite sua senha"
                required
              />
            </div>
            <button type="submit" class="btn btn-primary btn-lg w-100">
              <i class="bi bi-box-arrow-in-right"></i> Entrar
            </button>
          </form>
        </div>

        <!-- Form Cadastro -->
        <div id="registerForm" class="login-form">
          <form onsubmit="handleRegister(event)">
            <div class="form-group">
              <label>Nome Completo</label>
              <input
                type="text"
                id="registerName"
                class="form-control"
                placeholder="Seu nome completo"
                required
              />
            </div>
            <div class="form-group">
              <label>CPF</label>
              <input
                type="text"
                id="registerCpf"
                class="form-control"
                placeholder="000.000.000-00"
                required
              />
            </div>
            <div class="form-group">
              <label>Telefone</label>
              <input
                type="text"
                id="registerPhone"
                class="form-control"
                placeholder="(00) 00000-0000"
                required
              />
            </div>
            <div class="form-group">
              <label>Senha</label>
              <input
                type="password"
                id="registerPassword"
                class="form-control"
                placeholder="Crie uma senha"
                required
              />
            </div>
            <button type="submit" class="btn btn-success btn-lg w-100">
              <i class="bi bi-person-plus"></i> Cadastrar
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- Conteúdo Principal -->
    <div id="mainContent" class="main-content" style="display: none">
      <!-- Menu Lateral -->
      <div class="sidebar">
        <div class="category-header">
          <h3>Categorias</h3>
        </div>
        <div class="category-list" id="categoryList">
          <!-- Categorias carregadas via JS -->
        </div>
      </div>

      <!-- Área de Produtos -->
      <div class="content-area">
        <div class="products-header">
          <h2 id="categoryTitle">Todos os Produtos</h2>
          <div class="search-box">
            <input
              type="text"
              id="searchInput"
              class="form-control"
              placeholder="Buscar produtos..."
            />
            <i class="bi bi-search"></i>
          </div>
        </div>

        <div class="products-grid" id="productsGrid">
          <!-- Produtos carregados via JS -->
        </div>

        <div id="emptyState" class="empty-state" style="display: none">
          <i class="bi bi-search"></i>
          <h4>Nenhum produto encontrado</h4>
          <p>Tente buscar por outro termo</p>
        </div>
      </div>

      <!-- Carrinho Lateral -->
      <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
          <h3><i class="bi bi-cart3"></i> Seu Pedido</h3>
          <span class="cart-count" id="cartCount">0 itens</span>
        </div>

        <div class="cart-items" id="cartItems">
          <div class="cart-empty">
            <i class="bi bi-cart-x"></i>
            <p>Seu carrinho está vazio</p>
            <span>Adicione produtos para continuar</span>
          </div>
        </div>

        <div class="cart-footer" id="cartFooter" style="display: none">
          <div class="cart-total">
            <div class="total-row">
              <span>Subtotal:</span>
              <span id="subtotal">R$ 0,00</span>
            </div>
            <div class="total-row">
              <span>Taxa entrega:</span>
              <span id="deliveryFee">R$ 5,00</span>
            </div>
            <div class="total-row total-final">
              <strong>Total:</strong>
              <strong id="totalAmount">R$ 5,00</strong>
            </div>
          </div>
          <button class="btn btn-danger w-100 mb-2" onclick="clearCart()">
            <i class="bi bi-trash"></i> Limpar Carrinho
          </button>
          <button class="btn btn-success w-100 btn-lg" onclick="checkout()">
            <i class="bi bi-check-circle"></i> Finalizar Pedido
          </button>
        </div>
      </div>
    </div>

    <!-- Modal Produto -->
    <div class="modal fade" id="productModal" tabindex="-1">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalTitle"></h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-6">
                <img id="modalImage" class="img-fluid rounded" alt="" />
              </div>
              <div class="col-md-6">
                <p id="modalDescription" class="text-muted mb-3"></p>
                <div class="price-display mb-4">
                  <h3 id="modalPrice" class="text-danger fw-bold"></h3>
                </div>
                <div class="quantity-section mb-3">
                  <label class="form-label fw-bold">Quantidade:</label>
                  <div class="quantity-controls">
                    <button
                      type="button"
                      class="btn btn-outline-secondary"
                      onclick="changeQuantity(-1)"
                    >
                      <i class="bi bi-dash"></i>
                    </button>
                    <input
                      type="number"
                      id="modalQuantity"
                      class="form-control"
                      value="1"
                      min="1"
                      max="10"
                    />
                    <button
                      type="button"
                      class="btn btn-outline-secondary"
                      onclick="changeQuantity(1)"
                    >
                      <i class="bi bi-plus"></i>
                    </button>
                  </div>
                </div>
                <div class="observations-section mb-3">
                  <label class="form-label fw-bold">Observações:</label>
                  <textarea
                    id="modalObservations"
                    class="form-control"
                    rows="3"
                    placeholder="Alguma observação especial?"
                  ></textarea>
                </div>
                <button
                  type="button"
                  class="btn btn-danger btn-lg w-100"
                  onclick="addToCartFromModal()"
                >
                  <i class="bi bi-cart-plus"></i> Adicionar ao Pedido
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="pagina-inicial.js"></script>
  </body>
</html>
